# 물먹자 투게더 상세 개발 태스크 리스트

## 📋 프로젝트 개요
- **앱 이름**: 물먹자 투게더 (Water Together)
- **목적**: 하루 물 섭취 습관을 재미있게 형성하도록 돕는 소셜 건강 앱
- **개발 방식**: Flutter 기반 모바일 앱
- **개발 기간**: 4주 (MVP 기준)

---

## 🎯 개발 환경 설정 (Day 0 - 준비 작업)

### 필수 도구 설치 및 설정
- [ ] Flutter SDK 설치 및 환경 변수 설정
- [ ] Android Studio 또는 VS Code 설치
- [ ] Flutter 플러그인 설치
- [ ] Git 저장소 초기화 및 원격 저장소 연결
- [ ] 개발용 디바이스 연결 (Android 에뮬레이터 또는 실제 기기)

### 프로젝트 초기 설정
- [ ] `flutter create water_together` 명령으로 새 프로젝트 생성
- [ ] 프로젝트 구조 확인 및 기본 파일 정리
- [ ] `pubspec.yaml` 파일에서 앱 이름을 "물먹자 투게더"로 변경
- [ ] 필요한 패키지 의존성 추가 (상태 관리, 로컬 저장소, 알림 등)

---

## 📅 Week 1: 기반 구축

### Day 1: Flutter 프로젝트 생성 및 기본 구조 설정

#### 프로젝트 생성 및 초기 설정
- [ ] Flutter 프로젝트 생성: `flutter create water_together`
- [ ] 프로젝트 폴더 구조 확인 및 정리
- [ ] `pubspec.yaml` 파일 수정:
  - 앱 이름: "물먹자 투게더"
  - 버전 정보 설정
  - 필요한 패키지 추가 (provider, shared_preferences, flutter_local_notifications 등)

#### 기본 폴더 구조 생성
- [ ] `lib/models/` 폴더 생성 (데이터 모델용)
- [ ] `lib/screens/` 폴더 생성 (화면용)
- [ ] `lib/widgets/` 폴더 생성 (재사용 위젯용)
- [ ] `lib/services/` 폴더 생성 (비즈니스 로직용)
- [ ] `lib/utils/` 폴더 생성 (유틸리티 함수용)

#### 기본 네비게이션 구조 설정
- [ ] `main.dart` 파일 수정하여 앱 진입점 설정
- [ ] 기본 MaterialApp 위젯 구성
- [ ] 테마 설정 (색상, 폰트 등 기본값)
- [ ] 라우팅 기본 구조 설정

### Day 2-3: 데이터 모델 구현

#### 사용자 모델 (User Model)
- [ ] `lib/models/user.dart` 파일 생성
- [ ] User 클래스 정의:
  ```dart
  class User {
    String userId;
    String nickname;
    String password;
    int dailyWaterGoal; // ml 단위
    DateTime createdAt;
  }
  ```
- [ ] JSON 직렬화/역직렬화 메서드 구현
- [ ] 유효성 검사 메서드 구현

#### 식물 모델 (Plant Model)
- [ ] `lib/models/plant.dart` 파일 생성
- [ ] Plant 클래스 정의:
  ```dart
  class Plant {
    String plantId;
    String name;
    int stage; // 0: 씨앗, 1: 줄기, 2: 꽃, 3: 열매
    int growthProgress; // 현재 성장 진행도
    int totalGrowthRequired; // 완전 성장까지 필요한 총 섭취량
    String imagePath;
  }
  ```
- [ ] 성장 단계별 이미지 경로 관리
- [ ] 성장 조건 검증 메서드 구현

#### 물 기록 모델 (WaterLog Model)
- [ ] `lib/models/water_log.dart` 파일 생성
- [ ] WaterLog 클래스 정의:
  ```dart
  class WaterLog {
    String logId;
    String userId;
    DateTime date;
    int amount; // ml 단위
    String type; // '한모금', '반컵', '한컵'
  }
  ```
- [ ] 날짜별 기록 집계 메서드 구현
- [ ] 목표 달성 여부 확인 메서드 구현

#### 인벤토리 모델 (Inventory Model)
- [ ] `lib/models/inventory.dart` 파일 생성
- [ ] Inventory 클래스 정의:
  ```dart
  class Inventory {
    String userId;
    String seedId;
    int quantity;
    String plantName;
  }
  ```
- [ ] 씨앗 추가/사용 메서드 구현

#### 친구 모델 (Friend Model)
- [ ] `lib/models/friend.dart` 파일 생성
- [ ] Friend 클래스 정의:
  ```dart
  class Friend {
    String userId;
    String friendId;
    String friendNickname;
    String status; // 'pending', 'accepted'
    DateTime addedAt;
  }
  ```
- [ ] 친구 상태 관리 메서드 구현

### Day 4-5: 기본 네비게이션 구조 구현

#### 하단 네비게이션 바 구현
- [ ] `lib/screens/main_screen.dart` 파일 생성
- [ ] BottomNavigationBar 위젯 구현
- [ ] 4개 탭 구성: 홈, 대시보드, 친구·랭킹, 설정
- [ ] 탭 전환 로직 구현

#### 각 화면 기본 구조 생성
- [ ] `lib/screens/home_screen.dart` - 홈 화면 기본 구조
- [ ] `lib/screens/dashboard_screen.dart` - 대시보드 화면 기본 구조
- [ ] `lib/screens/friends_ranking_screen.dart` - 친구·랭킹 화면 기본 구조
- [ ] `lib/screens/settings_screen.dart` - 설정 화면 기본 구조

#### 상단 네비게이션 바 구현
- [ ] `lib/widgets/app_bar.dart` 파일 생성
- [ ] 닉네임 표시 영역 구현
- [ ] 오늘 목표 대비 섭취량 표시 영역 구현
- [ ] 설정 아이콘 구현

---

## 📅 Week 2: 핵심 기능 구현

### Day 1-3: 홈 화면 구현

#### 홈 화면 레이아웃 구성
- [ ] 상단: 환영 멘트 + 오늘 목표 대비 섭취량 표시
- [ ] 중앙: 화분 + 현재 식물 상태 표시 영역
- [ ] 우측: 인벤토리 영역 (씨앗 선택 후 심기 버튼)
- [ ] 하단: 물 기록 버튼 영역
- [ ] 도감 접근 아이콘 (책 모양) 구현

#### 화분 및 식물 상태 표시
- [ ] `lib/widgets/plant_pot.dart` 파일 생성
- [ ] 식물 성장 단계별 이미지 표시 로직 구현
- [ ] 성장 진행도 시각화 (프로그레스 바 또는 애니메이션)
- [ ] 빈 화분 상태 처리

#### 물 기록 기능 구현
- [ ] `lib/widgets/water_record_button.dart` 파일 생성
- [ ] 물 기록 버튼 클릭 시 선택 옵션 표시
- [ ] 한모금/반컵/한컵 선택 UI 구현
- [ ] 각 선택에 따른 섭취량 계산 로직 구현
- [ ] 기록 저장 및 화면 업데이트 로직 구현

#### 인벤토리 기능 구현
- [ ] `lib/widgets/inventory_widget.dart` 파일 생성
- [ ] 보유 씨앗 목록 표시
- [ ] 씨앗 선택 시 팝업 표시 (이름, 설명, 심기 버튼)
- [ ] 씨앗 심기 기능 구현
- [ ] 심기 실패 시 상태 복귀 로직 구현

### Day 4-5: 물 기록 기능 상세 구현

#### 물 기록 서비스 구현
- [ ] `lib/services/water_log_service.dart` 파일 생성
- [ ] 로컬 저장소 연동 (SharedPreferences 또는 SQLite)
- [ ] 날짜별 기록 저장/조회 메서드 구현
- [ ] 누적 섭취량 계산 메서드 구현
- [ ] 목표 달성 여부 확인 메서드 구현

#### 식물 성장 시스템 구현
- [ ] `lib/services/plant_growth_service.dart` 파일 생성
- [ ] 물 섭취량에 따른 식물 성장 로직 구현
- [ ] 성장 단계별 조건 검증
- [ ] 성장 완료 시 보상 지급 로직 구현
- [ ] 성장 애니메이션 효과 구현

#### 상태 관리 구현
- [ ] `lib/providers/water_provider.dart` 파일 생성
- [ ] Provider 패턴을 사용한 상태 관리
- [ ] 물 섭취량 상태 관리
- [ ] 식물 상태 관리
- [ ] 인벤토리 상태 관리

---

## 📅 Week 3: 확장 기능 구현

### Day 1-2: 식물 성장 시스템 상세 구현

#### 식물 데이터베이스 구축
- [ ] `lib/data/plant_database.dart` 파일 생성
- [ ] 기본 식물 종류 데이터 정의
- [ ] 각 식물별 성장 조건 설정
- [ ] 식물 이미지 리소스 관리

#### 성장 보상 시스템 구현
- [ ] 성장 완료 시 해당 식물 씨앗 1개 지급
- [ ] 랜덤 씨앗 1개 추가 지급 로직 구현
- [ ] 도감에 수집된 식물 추가 로직 구현
- [ ] 보상 알림 UI 구현

#### 씨앗 시스템 구현
- [ ] 씨앗 종류별 데이터 정의
- [ ] 씨앗 획득/사용 로직 구현
- [ ] 씨앗 선물 기능 구현 (친구에게 전달)
- [ ] 씨앗 수량 관리 시스템 구현

### Day 3-4: 대시보드 구현

#### 대시보드 화면 레이아웃
- [ ] 날짜별 표 형태 레이아웃 구현
- [ ] 컬럼 구성: 날짜, 시각화, 섭취량, 목표 달성 여부
- [ ] 최신 날짜부터 정렬 표시
- [ ] 스크롤 가능한 리스트 구현

#### 데이터 시각화 구현
- [ ] 섭취량에 따른 시각화 바 구현
- [ ] 목표 달성 여부 아이콘 표시 (✅/❌)
- [ ] 날짜별 색상 구분 (달성/미달성)
- [ ] 누적 통계 요약 정보 표시

#### 대시보드 서비스 구현
- [ ] `lib/services/dashboard_service.dart` 파일 생성
- [ ] 날짜별 데이터 집계 로직 구현
- [ ] 시각화 데이터 생성 로직 구현
- [ ] 통계 계산 메서드 구현

### Day 5: 친구/랭킹 기능 구현

#### 친구 추가 기능 구현
- [ ] `lib/screens/add_friend_screen.dart` 파일 생성
- [ ] 아이디 기반 친구 검색 UI 구현
- [ ] 친구 추가 요청 로직 구현
- [ ] 중복 친구 확인 로직 구현
- [ ] 친구 추가 성공/실패 알림 구현

#### 친구 목록 및 랭킹 구현
- [ ] 친구 목록 표시 UI 구현
- [ ] 친구별 오늘 섭취량 표시
- [ ] 달성률 계산 및 표시
- [ ] 일간 랭킹 자동 정렬 구현
- [ ] 랭킹 데모 데이터 표시 (친구 없을 때)

#### 친구 초대 기능 구현
- [ ] 친구 초대 링크 생성 로직 구현
- [ ] 초대 링크 공유 기능 구현
- [ ] 신규 유저 가입 시 랜덤 씨앗 지급 로직 구현
- [ ] 초대 성공 알림 구현

---

## 📅 Week 4: 완성도 향상

### Day 1-2: 도감 시스템 구현

#### 도감 화면 구현
- [ ] `lib/screens/collection_screen.dart` 파일 생성
- [ ] 홈 화면 책 아이콘 클릭 시 팝업 접근 구현
- [ ] 수집한 식물 썸네일 그리드 표시
- [ ] 식물 클릭 시 상세 팝업 표시

#### 도감 팝업 구현
- [ ] `lib/widgets/plant_detail_popup.dart` 파일 생성
- [ ] 식물 이미지, 이름, 설명 표시
- [ ] 수집일 정보 표시
- [ ] 팝업 닫기 기능 구현

#### 도감 서비스 구현
- [ ] `lib/services/collection_service.dart` 파일 생성
- [ ] 수집된 식물 목록 관리
- [ ] 도감 완성도 계산 로직 구현
- [ ] 식물 상세 정보 조회 기능 구현

### Day 3: 설정 화면 구현

#### 설정 화면 레이아웃
- [ ] 목표 섭취량 설정 UI 구현
- [ ] 알림 시간 설정 UI 구현
- [ ] 계정 정보 관리 UI 구현
- [ ] 로그아웃 버튼 구현

#### 설정 서비스 구현
- [ ] `lib/services/settings_service.dart` 파일 생성
- [ ] 사용자 설정 저장/불러오기 로직 구현
- [ ] 설정 변경 시 앱 전체 반영 로직 구현
- [ ] 설정 초기화 기능 구현

#### 알림 시스템 구현
- [ ] `lib/services/notification_service.dart` 파일 생성
- [ ] 로컬 알림 권한 요청 구현
- [ ] 알림 스케줄링 로직 구현
- [ ] 랜덤 문구 제공 기능 구현
- [ ] 알림 설정 변경 반영 로직 구현

### Day 4-5: 온보딩 튜토리얼 구현

#### 튜토리얼 오버레이 구현
- [ ] `lib/widgets/tutorial_overlay.dart` 파일 생성
- [ ] 2단계 강제 오버레이 가이드 구현
- [ ] 물 기록 버튼 안내 오버레이 구현
- [ ] 씨앗 심기 안내 오버레이 구현

#### 튜토리얼 서비스 구현
- [ ] `lib/services/tutorial_service.dart` 파일 생성
- [ ] 튜토리얼 완료 상태 관리
- [ ] 튜토리얼 재실행 기능 구현
- [ ] 튜토리얼 스킵 방지 로직 구현

#### 웰컴 메시지 구현
- [ ] 신규 가입 직후 웰컴 메시지 표시
- [ ] "같이 마셔요" 멘트 구현
- [ ] CTA 버튼 ("물 기록해보세요!") 구현

---

## 🔧 추가 구현 사항

### 에러 처리 및 예외 상황
- [ ] 네트워크 연결 실패 시 오프라인 모드 처리
- [ ] 데이터 저장 실패 시 재시도 로직 구현
- [ ] 잘못된 입력 데이터 검증 및 처리
- [ ] 앱 크래시 방지를 위한 예외 처리

### 성능 최적화
- [ ] 이미지 로딩 최적화
- [ ] 메모리 사용량 최적화
- [ ] 앱 시작 시간 최적화
- [ ] 배터리 사용량 최적화

### 테스트 구현
- [ ] 단위 테스트 작성 (핵심 로직)
- [ ] 위젯 테스트 작성 (주요 UI 컴포넌트)
- [ ] 통합 테스트 작성 (사용자 플로우)
- [ ] 테스트 커버리지 확인

### 빌드 및 배포 설정
- [ ] Android 빌드 설정 (build.gradle)
- [ ] iOS 빌드 설정 (Info.plist)
- [ ] 앱 아이콘 및 스플래시 스크린 설정
- [ ] 릴리즈 빌드 생성 및 테스트

---

## 📝 개발 체크리스트

### 코드 품질
- [ ] 코드 리뷰 완료
- [ ] 코딩 컨벤션 준수
- [ ] 주석 및 문서화 완료
- [ ] 불필요한 코드 제거

### 기능 테스트
- [ ] 모든 화면 정상 동작 확인
- [ ] 데이터 저장/불러오기 정상 동작 확인
- [ ] 네트워크 오류 상황 테스트
- [ ] 다양한 디바이스에서 테스트

### 사용자 경험
- [ ] UI/UX 일관성 확인
- [ ] 로딩 상태 표시 구현
- [ ] 에러 메시지 사용자 친화적으로 표시
- [ ] 접근성 고려사항 반영

---

## 🎯 완료 기준

### MVP 완료 기준
- [ ] 모든 핵심 기능 정상 동작
- [ ] 기본 사용자 플로우 완성
- [ ] 주요 버그 해결 완료
- [ ] 성능 기준 충족
- [ ] 테스트 통과율 90% 이상

### 배포 준비 완료 기준
- [ ] 릴리즈 빌드 생성 완료
- [ ] 앱 스토어 등록 준비 완료
- [ ] 사용자 가이드 작성 완료
- [ ] 버그 리포트 시스템 구축 완료

---

*문서 생성일: 2025-01-27*
*마지막 업데이트: 상세 개발 태스크 리스트 완성*
